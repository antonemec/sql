<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—É–¥–∏—Ç –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Ä–∏–Ω–∫—É –£–∫—Ä–∞—ó–Ω–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            font-size: 1.2em;
            color: #7f8c8d;
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .control-panel h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #34495e;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.3s;
            margin-right: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .status {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .results {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .metric-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }

        .metric-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .bank-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .bank-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .bank-card:hover {
            transform: translateY(-3px);
        }

        .bank-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .bank-rating {
            color: #f39c12;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .chart-container {
            margin-top: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #7f8c8d;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .export-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            transform: scale(1.2);
        }

        .data-sources {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .source-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .source-status {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¶ –ê—É–¥–∏—Ç –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Ä–∏–Ω–∫—É –£–∫—Ä–∞—ó–Ω–∏</h1>
            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ç–∞ –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å –ø–æ –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–º—É —Å–µ–∫—Ç–æ—Ä—É</p>
        </div>

        <div class="control-panel">
            <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞—É–¥–∏—Ç—É</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="form-group">
                    <label for="analysisType">–¢–∏–ø –∞–Ω–∞–ª—ñ–∑—É:</label>
                    <select id="analysisType">
                        <option value="full">–ü–æ–≤–Ω–∏–π –∞—É–¥–∏—Ç</option>
                        <option value="financial">–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑</option>
                        <option value="market">–†–∏–Ω–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è</option>
                        <option value="regulatory">–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportPeriod">–ü–µ—Ä—ñ–æ–¥ –∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ:</label>
                    <select id="reportPeriod">
                        <option value="weekly">–¢–∏–∂–Ω–µ–≤–∏–π</option>
                        <option value="monthly">–ú—ñ—Å—è—á–Ω–∏–π</option>
                        <option value="quarterly">–ö–≤–∞—Ä—Ç–∞–ª—å–Ω–∏–π</option>
                        <option value="yearly">–†—ñ—á–Ω–∏–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="bankFilter">–§—ñ–ª—å—Ç—Ä –±–∞–Ω–∫—ñ–≤:</label>
                    <select id="bankFilter">
                        <option value="all">–£—Å—ñ –±–∞–Ω–∫–∏</option>
                        <option value="top10">–¢–æ–ø-10 –∑–∞ –∞–∫—Ç–∏–≤–∞–º–∏</option>
                        <option value="systemically">–°–∏—Å—Ç–µ–º–Ω–æ –≤–∞–∂–ª–∏–≤—ñ</option>
                        <option value="foreign">–Ü–Ω–æ–∑–µ–º–Ω—ñ –±–∞–Ω–∫–∏</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="customParams">–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:</label>
                <textarea id="customParams" rows="3" placeholder="–í–≤–µ–¥—ñ—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ –¥–æ –∞–Ω–∞–ª—ñ–∑—É..."></textarea>
            </div>
            <button class="btn" onclick="startAudit()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞—É–¥–∏—Ç</button>
            <button class="btn" onclick="scheduleAudit()">üìÖ –ó–∞–ø–ª–∞–Ω—É–≤–∞—Ç–∏</button>
        </div>

        <div class="data-sources">
            <h3>–î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö</h3>
            <div id="dataSources">
                <div class="source-item">
                    <span>–ù–ë–£ API</span>
                    <span class="source-status status-active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="source-item">
                    <span>–§—ñ–Ω–∞–Ω—Å–æ–≤–∞ –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å</span>
                    <span class="source-status status-active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="source-item">
                    <span>–†–µ–π—Ç–∏–Ω–≥–æ–≤—ñ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞</span>
                    <span class="source-status status-pending">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è</span>
                </div>
                <div class="source-item">
                    <span>–ù–æ–≤–∏–Ω–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞</span>
                    <span class="source-status status-active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
                <div class="source-item">
                    <span>–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ</span>
                    <span class="source-status status-inactive">–ù–µ–∞–∫—Ç–∏–≤–Ω–æ</span>
                </div>
            </div>
        </div>

        <div class="status" id="auditStatus" style="display: none;">
            <h3>–°—Ç–∞—Ç—É—Å –∞—É–¥–∏—Ç—É</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="statusText">–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∞—É–¥–∏—Ç—É...</div>
            <div id="currentTask">–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏</div>
        </div>

        <div class="results" id="results">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞—É–¥–∏—Ç—É</h2>
            <div id="auditDate"></div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div class="metric-card">
                    <h3>–í—Å—å–æ–≥–æ –±–∞–Ω–∫—ñ–≤</h3>
                    <div class="metric-value" id="totalBanks">67</div>
                    <small>–ê–∫—Ç–∏–≤–Ω—ñ –±–∞–Ω–∫–∏ –£–∫—Ä–∞—ó–Ω–∏</small>
                </div>
                <div class="metric-card">
                    <h3>–°—É–∫—É–ø–Ω—ñ –∞–∫—Ç–∏–≤–∏</h3>
                    <div class="metric-value" id="totalAssets">2.1T</div>
                    <small>–≥—Ä–Ω</small>
                </div>
                <div class="metric-card">
                    <h3>–°–µ—Ä–µ–¥–Ω—è —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å</h3>
                    <div class="metric-value" id="avgROA">12.5%</div>
                    <small>ROA</small>
                </div>
                <div class="metric-card">
                    <h3>–ö–∞–ø—ñ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è</h3>
                    <div class="metric-value" id="capitalization">18.7%</div>
                    <small>–ù1</small>
                </div>
            </div>

            <div class="bank-list" id="bankList">
                <!-- –ë–∞–Ω–∫–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
            </div>

            <div class="chart-container">
                <h3>–ì—Ä–∞—Ñ—ñ–∫ –¥–∏–Ω–∞–º—ñ–∫–∏ —Ä–∏–Ω–∫—É</h3>
                <canvas id="marketChart" width="800" height="400"></canvas>
            </div>
        </div>

        <div class="export-section">
            <h3>–ï–∫—Å–ø–æ—Ä—Ç –∑–≤—ñ—Ç—É</h3>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="exportExecutive" checked>
                    <label for="exportExecutive">–í–∏–∫–æ–Ω–∞–≤—á–µ —Ä–µ–∑—é–º–µ</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exportFinancial" checked>
                    <label for="exportFinancial">–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exportRisk" checked>
                    <label for="exportRisk">–†–∏–∑–∏–∫-–∞–Ω–∞–ª—ñ–∑</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exportMarket" checked>
                    <label for="exportMarket">–†–∏–Ω–∫–æ–≤—ñ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exportRegulatory" checked>
                    <label for="exportRegulatory">–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exportRecommendations" checked>
                    <label for="exportRecommendations">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</label>
                </div>
            </div>
            <button class="btn" onclick="exportReport()">üìÑ –°—Ç–≤–æ—Ä–∏—Ç–∏ HTML –∑–≤—ñ—Ç</button>
            <button class="btn" onclick="exportPDF()">üìã –ï–∫—Å–ø–æ—Ä—Ç PDF</button>
            <button class="btn" onclick="exportExcel()">üìä –ï–∫—Å–ø–æ—Ä—Ç Excel</button>
        </div>
    </div>

    <script>
        let auditInProgress = false;
        let auditData = {};

        const sampleBanks = [
            { name: '–ü—Ä–∏–≤–∞—Ç–ë–∞–Ω–∫', assets: 385000, rating: 4.2, roa: 15.3, capital: 19.2 },
            { name: '–û—â–∞–¥–±–∞–Ω–∫', assets: 195000, rating: 4.0, roa: 12.1, capital: 18.9 },
            { name: '–ü–£–ú–ë', assets: 89000, rating: 4.3, roa: 14.7, capital: 20.1 },
            { name: '–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω –ë–∞–Ω–∫', assets: 76000, rating: 4.5, roa: 16.2, capital: 21.3 },
            { name: '–£–∫—Ä–°–∏–±–±–∞–Ω–∫', assets: 67000, rating: 4.1, roa: 13.8, capital: 19.7 },
            { name: '–ö–†–ï–î–Ü –ê–ì–†–Ü–ö–û–õ–¨', assets: 54000, rating: 4.4, roa: 15.9, capital: 22.1 },
            { name: '–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫', assets: 52000, rating: 4.2, roa: 14.5, capital: 20.8 },
            { name: '–û–¢–ü –ë–∞–Ω–∫', assets: 48000, rating: 4.0, roa: 13.2, capital: 18.4 }
        ];

        const auditTasks = [
            { name: '–ó–±—ñ—Ä –¥–∞–Ω–∏—Ö –∑ –ù–ë–£', duration: 15 },
            { name: '–ê–Ω–∞–ª—ñ–∑ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–æ—ó –∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ', duration: 25 },
            { name: '–û–±—Ä–æ–±–∫–∞ —Ä–∏–Ω–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö', duration: 20 },
            { name: '–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤', duration: 15 },
            { name: '–ê–Ω–∞–ª—ñ–∑ —Ä–∏–∑–∏–∫—ñ–≤', duration: 10 },
            { name: '–ì–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∏—Å–Ω–æ–≤–∫—ñ–≤', duration: 10 },
            { name: '–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–≤—ñ—Ç—É', duration: 5 }
        ];

        function startAudit() {
            if (auditInProgress) return;
            
            auditInProgress = true;
            document.getElementById('auditStatus').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            let currentProgress = 0;
            let taskIndex = 0;
            
            const updateProgress = () => {
                if (taskIndex >= auditTasks.length) {
                    completeAudit();
                    return;
                }
                
                const task = auditTasks[taskIndex];
                document.getElementById('currentTask').textContent = task.name;
                
                const targetProgress = ((taskIndex + 1) / auditTasks.length) * 100;
                const progressAnimation = setInterval(() => {
                    currentProgress += 2;
                    if (currentProgress >= targetProgress) {
                        currentProgress = targetProgress;
                        clearInterval(progressAnimation);
                        taskIndex++;
                        setTimeout(updateProgress, 500);
                    }
                    
                    document.getElementById('progressFill').style.width = currentProgress + '%';
                    document.getElementById('statusText').textContent = `–í–∏–∫–æ–Ω–∞–Ω–æ: ${Math.round(currentProgress)}%`;
                }, 100);
            };
            
            updateProgress();
        }

        function completeAudit() {
            auditInProgress = false;
            document.getElementById('auditStatus').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞—Ç–∏
            const now = new Date();
            document.getElementById('auditDate').textContent = `–î–∞—Ç–∞ –∞—É–¥–∏—Ç—É: ${now.toLocaleDateString('uk-UA')} ${now.toLocaleTimeString('uk-UA')}`;
            
            // –ì–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
            generateBankList();
            generateChart();
            
            // –°–∏–º—É–ª—è—Ü—ñ—è —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
            auditData = {
                totalBanks: 67,
                totalAssets: 2100000,
                avgROA: 12.5,
                capitalization: 18.7,
                banks: sampleBanks
            };
        }

        function generateBankList() {
            const bankList = document.getElementById('bankList');
            bankList.innerHTML = '';
            
            sampleBanks.forEach(bank => {
                const bankCard = document.createElement('div');
                bankCard.className = 'bank-card';
                bankCard.innerHTML = `
                    <div class="bank-name">${bank.name}</div>
                    <div class="bank-rating">${'‚òÖ'.repeat(Math.floor(bank.rating))} ${bank.rating}</div>
                    <div><strong>–ê–∫—Ç–∏–≤–∏:</strong> ${bank.assets.toLocaleString()} –º–ª–Ω –≥—Ä–Ω</div>
                    <div><strong>ROA:</strong> ${bank.roa}%</div>
                    <div><strong>–ö–∞–ø—ñ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è:</strong> ${bank.capital}%</div>
                `;
                bankList.appendChild(bankCard);
            });
        }

        function generateChart() {
            const canvas = document.getElementById('marketChart');
            const ctx = canvas.getContext('2d');
            
            // –û—á–∏—â–µ–Ω–Ω—è canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –ü—Ä–æ—Å—Ç–∏–π –≥—Ä–∞—Ñ—ñ–∫ –∞–∫—Ç–∏–≤—ñ–≤ –±–∞–Ω–∫—ñ–≤
            const bankNames = sampleBanks.map(bank => bank.name);
            const bankAssets = sampleBanks.map(bank => bank.assets);
            
            const maxAssets = Math.max(...bankAssets);
            const chartHeight = 300;
            const chartWidth = 700;
            const barWidth = chartWidth / bankNames.length;
            
            // –ú–∞–ª—é–≤–∞–Ω–Ω—è –æ—Å–µ–π
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, 350);
            ctx.lineTo(750, 350);
            ctx.moveTo(50, 50);
            ctx.lineTo(50, 350);
            ctx.stroke();
            
            // –ú–∞–ª—é–≤–∞–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤
            bankAssets.forEach((assets, index) => {
                const barHeight = (assets / maxAssets) * chartHeight;
                const x = 50 + index * barWidth + barWidth * 0.1;
                const y = 350 - barHeight;
                
                // –ì—Ä–∞–¥—ñ—î–Ω—Ç –¥–ª—è —Å—Ç–æ–≤–ø—Ü—è
                const gradient = ctx.createLinearGradient(0, y, 0, 350);
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(x, y, barWidth * 0.8, barHeight);
                
                // –ù–∞–∑–≤–∞ –±–∞–Ω–∫—É
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.save();
                ctx.translate(x + barWidth * 0.4, 370);
                ctx.rotate(-Math.PI / 4);
                ctx.fillText(bankNames[index], 0, 0);
                ctx.restore();
            });
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('–ê–∫—Ç–∏–≤–∏ –±–∞–Ω–∫—ñ–≤ (–º–ª–Ω –≥—Ä–Ω)', 300, 30);
        }

        function scheduleAudit() {
            const schedule = prompt('–í–≤–µ–¥—ñ—Ç—å —Ä–æ–∑–∫–ª–∞–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "—â–æ–ø–æ–Ω–µ–¥—ñ–ª–∫–∞ –æ 9:00")');
            if (schedule) {
                alert(`–ê—É–¥–∏—Ç –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–∏–π: ${schedule}`);
            }
        }

        function exportReport() {
            const reportData = {
                executiveSummary: document.getElementById('exportExecutive').checked,
                financialAnalysis: document.getElementById('exportFinancial').checked,
                riskAnalysis: document.getElementById('exportRisk').checked,
                marketTrends: document.getElementById('exportMarket').checked,
                regulatoryCompliance: document.getElementById('exportRegulatory').checked,
                recommendations: document.getElementById('exportRecommendations').checked
            };
            
            generateHTMLReport(reportData);
        }

        function generateHTMLReport(sections) {
            const reportWindow = window.open('', '_blank');
            const reportHTML = `
                <!DOCTYPE html>
                <html lang="uk">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>–ó–≤—ñ—Ç –∞—É–¥–∏—Ç—É –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Ä–∏–Ω–∫—É –£–∫—Ä–∞—ó–Ω–∏</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
                        .header { text-align: center; border-bottom: 3px solid #667eea; padding-bottom: 20px; margin-bottom: 30px; }
                        .section { margin-bottom: 30px; page-break-inside: avoid; }
                        .section h2 { color: #2c3e50; border-left: 5px solid #667eea; padding-left: 15px; }
                        .metric { display: inline-block; margin: 10px; padding: 15px; background: #f8f9fa; border-radius: 5px; }
                        .bank-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        .bank-table th, .bank-table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                        .bank-table th { background: #667eea; color: white; }
                        .recommendation { background: #e8f4f8; padding: 15px; border-left: 4px solid #17a2b8; margin: 15px 0; }
                        @media print { body { margin: 20px; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>üè¶ –ó–≤—ñ—Ç –∞—É–¥–∏—Ç—É –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Ä–∏–Ω–∫—É –£–∫—Ä–∞—ó–Ω–∏</h1>
                        <p>–î–∞—Ç–∞: ${new Date().toLocaleDateString('uk-UA')}</p>
                    </div>
                    
                    ${sections.executiveSummary ? `
                    <div class="section">
                        <h2>–í–∏–∫–æ–Ω–∞–≤—á–µ —Ä–µ–∑—é–º–µ</h2>
                        <p>–ë–∞–Ω–∫—ñ–≤—Å—å–∫–∏–π —Å–µ–∫—Ç–æ—Ä –£–∫—Ä–∞—ó–Ω–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω—É –¥–∏–Ω–∞–º—ñ–∫—É. –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∏—Ö –±–∞–Ω–∫—ñ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å 67, –∑ —Å—É–∫—É–ø–Ω–∏–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏ 2,1 —Ç—Ä–ª–Ω –≥—Ä–Ω.</p>
                        <div class="metric">
                            <strong>–í—Å—å–æ–≥–æ –±–∞–Ω–∫—ñ–≤:</strong> 67
                        </div>
                        <div class="metric">
                            <strong>–°—É–∫—É–ø–Ω—ñ –∞–∫—Ç–∏–≤–∏:</strong> 2,1 —Ç—Ä–ª–Ω –≥—Ä–Ω
                        </div>
                        <div class="metric">
                            <strong>–°–µ—Ä–µ–¥–Ω—è —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:</strong> 12,5%
                        </div>
                        <div class="metric">
                            <strong>–ö–∞–ø—ñ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è:</strong> 18,7%
                        </div>
                    </div>
                    ` : ''}
                    
                    ${sections.financialAnalysis ? `
                    <div class="section">
                        <h2>–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑</h2>
                        <table class="bank-table">
                            <thead>
                                <tr>
                                    <th>–ë–∞–Ω–∫</th>
                                    <th>–ê–∫—Ç–∏–≤–∏ (–º–ª–Ω –≥—Ä–Ω)</th>
                                    <th>ROA (%)</th>
                                    <th>–ö–∞–ø—ñ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${sampleBanks.map(bank => `
                                    <tr>
                                        <td>${bank.name}</td>
                                        <td>${bank.assets.toLocaleString()}</td>
                                        <td>${bank.roa}</td>
                                        <td>${bank.capital}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    ` : ''}
                    
                    ${sections.riskAnalysis ? `
                    <div class="section">
                        <h2>–†–∏–∑–∏–∫-–∞–Ω–∞–ª—ñ–∑</h2>
                        <p>–û—Å–Ω–æ–≤–Ω—ñ —Ä–∏–∑–∏–∫–∏ –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä—É:</p>
                        <ul>
                            <li>–ö—Ä–µ–¥–∏—Ç–Ω–∏–π —Ä–∏–∑–∏–∫ - –ø–æ–º—ñ—Ä–Ω–∏–π —Ä—ñ–≤–µ–Ω—å</li>
                            <li>–õ—ñ–∫–≤—ñ–¥–Ω–∏–π —Ä–∏–∑–∏–∫ - –Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å</li>
                            <li>–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏–π —Ä–∏–∑–∏–∫ - –ø–æ–º—ñ—Ä–Ω–∏–π —Ä—ñ–≤–µ–Ω—å</li>
                            <li>–†–∏–Ω–∫–æ–≤–∏–π —Ä–∏–∑–∏–∫ - –ø—ñ–¥–≤–∏—â–µ–Ω–∏–π —Ä—ñ–≤–µ–Ω—å</li>
                        </ul>
                    </div>
                    ` : ''}
                    
                    ${sections.marketTrends ? `
                    <div class="section">
                        <h2>–†–∏–Ω–∫–æ–≤—ñ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó</h2>
                        <p>–ö–ª—é—á–æ–≤—ñ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó —Ä–æ–∑–≤–∏—Ç–∫—É –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ–≥–æ —Ä–∏–Ω–∫—É:</p>
                        <ul>
                            <li>–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è —Ü–∏—Ñ—Ä–æ–≤–∏—Ö –ø–æ—Å–ª—É–≥</li>
                            <li>–ö–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—è —Ä–∏–Ω–∫—É</li>
                            <li>–†–æ–∑–≤–∏—Ç–æ–∫ —Ñ—ñ–Ω—Ç–µ—Ö-—Ä—ñ—à–µ–Ω—å</li>
                            <li>–ü–æ—Å–∏–ª–µ–Ω–Ω—è —Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è</li>
                        </ul>
                    </div>
                    ` : ''}
                    
                    ${sections.regulatoryCompliance ? `
                    <div class="section">
                        <h2>–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å</h2>
                        <p>–í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –Ω–æ—Ä–º–∞—Ç–∏–≤–∞–º –ù–ë–£:</p>
                        <ul>
                            <li>–ù–æ—Ä–º–∞—Ç–∏–≤ –¥–æ—Å—Ç–∞—Ç–Ω–æ—Å—Ç—ñ –∫–∞–ø—ñ—Ç–∞–ª—É (–ù1): 95% –±–∞–Ω–∫—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å</li>
                            <li>–ù–æ—Ä–º–∞—Ç–∏–≤ –º–∏—Ç—Ç—î–≤–æ—ó –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ (–ù4): 98% –±–∞–Ω–∫—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å</li>
                            <li>–ù–æ—Ä–º–∞—Ç–∏–≤ –ø–æ—Ç–æ—á